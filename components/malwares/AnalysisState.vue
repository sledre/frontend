<template>
  <b-icon
    :variant="mapping[state].color"
    font-scale="1.5"
    :animation="state === 'STARTING_QEMU' || state === 'DOWNLOADING_MALWARE' || state === 'STARTING_AGENT' || state === 'SENDING_RESULTS' ? 'spin' : ''"
    :icon="mapping[state].icon"
    class="mr-3 align-middle"
  />
</template>

<script>
export default {
  name: 'AnalysisState',
  props: {
    state: { type: String, default: '' }
  },
  data () {
    return {
      mapping: {
        NOT_STARTED: {
          color: 'danger',
          icon: 'exclamation-circle'
        },
        STARTING_QEMU: {
          color: 'warning',
          icon: 'gear'
        },
        DOWNLOADING_MALWARE: {
          color: 'warning',
          icon: 'gear'
        },
        STARTING_AGENT: {
          color: 'warning',
          icon: 'gear'
        },
        SENDING_RESULTS: {
          color: 'warning',
          icon: 'gear'
        },
        TASK_OVER: {
          color: 'success',
          icon: 'check'
        },
        TIMED_OUT: {
          color: 'danger',
          icon: 'patch-exclamation'
        }
      }
    }
  }
}
</script>

<style lang="scss" scoped>
</style>
